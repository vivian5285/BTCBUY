# Environment variables declared in this file are automatically made available to Prisma.
# See the documentation for more detail: https://pris.ly/d/prisma-schema#accessing-environment-variables-from-the-schema

# Prisma supports the native connection string format for PostgreSQL, MySQL, SQLite, SQL Server, MongoDB and CockroachDB.
# See the documentation for all the connection string options: https://pris.ly/d/connection-strings

DATABASE_URL="mongodb+srv://<username>:<password>@cluster0.xxxxx.mongodb.net/btcbuy?retryWrites=true&w=majority"

# JWT配置
JWT_SECRET="btcbuy_super_secret_key"
JWT_EXPIRES_IN=24h

# 服务端口配置
USER_API_PORT=3000
ADMIN_API_PORT=3001
USER_UI_PORT=3002
ADMIN_UI_PORT=3003

# 比特币API配置
BTC_API_KEY=your_btc_api_key
BTC_API_SECRET=your_btc_api_secret

# 其他配置
NODE_ENV=development

# 邮件服务配置
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your_smtp_user
SMTP_PASS=your_smtp_password
SMTP_FROM=noreply@example.com

# 前端URL配置
FRONTEND_URL=http://localhost:3000

# 短信服务配置
SMS_API_KEY=your_sms_api_key
SMS_API_SECRET=your_sms_api_secret
SMS_SIGN_NAME=BTCBuy
SMS_TEMPLATE_CODE=your_sms_template_code
SMS_ENDPOINT=https://dysmsapi.aliyuncs.com

# 通知配置
NOTIFICATION_RETENTION_DAYS=30
NOTIFICATION_BATCH_SIZE=100
NOTIFICATION_CLEANUP_HOUR=2
NOTIFICATION_CLEANUP_MINUTE=0

# WebSocket配置
WS_PORT=3001
WS_CORS_ORIGIN=http://localhost:3000
WS_PING_INTERVAL=25000
WS_PING_TIMEOUT=5000

# Redis配置
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_DB=0

# 缓存配置
CACHE_TTL_PRODUCT=3600
CACHE_TTL_USER=1800
CACHE_TTL_ORDER=7200
CACHE_TTL_MERCHANT=3600
CACHE_TTL_COMMISSION=86400

# 监控配置
ALERT_WEBHOOK=http://localhost:3000/alerts
CPU_THRESHOLD=80
MEMORY_THRESHOLD=80
DISK_THRESHOLD=80
RESPONSE_TIME_THRESHOLD=1000

# 日志配置
LOG_LEVEL=info
LOG_DIR=logs
LOG_MAX_SIZE=20m
LOG_MAX_FILES=14d

# 安全配置
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX=100
CORS_ORIGIN=http://localhost:3000
COOKIE_SECRET=your_cookie_secret

# 分佣配置
COMMISSION_RATE_LEVEL1=0.1
COMMISSION_RATE_LEVEL2=0.05
MIN_COMMISSION_AMOUNT=1
COMMISSION_SETTLEMENT_DAYS=7

# 提现配置
MIN_WITHDRAWAL_AMOUNT=10
MAX_WITHDRAWAL_AMOUNT=10000
WITHDRAWAL_FEE_RATE=0.01
DAILY_WITHDRAWAL_LIMIT=5000

# 商家配置
MERCHANT_VERIFICATION_REQUIRED=true
MERCHANT_COMMISSION_RATE=0.05
MIN_MERCHANT_BALANCE=100
MERCHANT_SETTLEMENT_DAYS=7

# 备份配置
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 0 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_PATH=/backup

# 性能配置
MAX_CONNECTIONS=100
REQUEST_TIMEOUT=30000
KEEP_ALIVE_TIMEOUT=65000
HEADERS_TIMEOUT=66000 